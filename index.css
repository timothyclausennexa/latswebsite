@import 'tailwindcss';

@theme {
  --color-prison-black: #0D0D0D;
  --color-prison-dark: #1A1A1A;
  --color-alarm-red: #9E3039;
  --color-warning-orange: #FF8A00;
  --color-ash-white: #E5E5E5;

  --font-family-pixel-heading: "Press Start 2P", cursive;
  --font-family-pixel-timer: "VT323", monospace;
  --font-family-body: "Roboto Mono", monospace;

  --shadow-pixel-sm: 2px 2px 0 #0D0D0D;
  --shadow-pixel-md: 4px 4px 0 #0D0D0D;
  --shadow-pixel-lg: 6px 6px 0 #0D0D0D;
  --shadow-pixel-xl: 8px 8px 0 #0D0D0D;
}

@layer base {
  html {
    scroll-behavior: smooth;
  }
  body {
    background-color: var(--color-prison-black);
    background-image: radial-gradient(rgba(229,229,229,0.05) 1px, transparent 1px);
    background-size: 16px 16px;
  }
}

/* Mayo Drip Animations */
@keyframes drip {
  0% {
    transform: translateY(-100vh) scaleX(1);
    opacity: 0;
  }
  10% {
    opacity: 0.6;
  }
  90% {
    opacity: 0.6;
  }
  100% {
    transform: translateY(110vh) scaleX(0.8);
    opacity: 0;
  }
}

@keyframes mayo-splash {
  0% {
    transform: scale(0) rotate(0deg);
    opacity: 1;
  }
  50% {
    transform: scale(1.5) rotate(180deg);
    opacity: 0.6;
  }
  100% {
    transform: scale(0) rotate(360deg);
    opacity: 0;
  }
}

@keyframes mayo-float {
  0%, 100% {
    transform: translateY(0) rotate(0deg);
  }
  33% {
    transform: translateY(-10px) rotate(5deg);
  }
  66% {
    transform: translateY(5px) rotate(-5deg);
  }
}

.animate-drip {
  animation: drip 8s infinite linear;
}

.animate-mayo-splash {
  animation: mayo-splash 1s ease-out;
}

.animate-mayo-float {
  animation: mayo-float 3s ease-in-out infinite;
}

/* Mayo splatter effect */
.mayo-splatter {
  position: fixed;
  pointer-events: none;
  z-index: 1000;
  font-size: 2rem;
  animation: mayo-splash 1s ease-out forwards;
}

/* Custom Scrollbar Styles */
.custom-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: #FF8A00 #0D0D0D;
}

.custom-scrollbar::-webkit-scrollbar {
  width: 8px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: #0D0D0D;
  border: 1px solid #FF8A00;
  border-radius: 4px;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background: #FF8A00;
  border-radius: 4px;
  border: 1px solid #0D0D0D;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: #FF8A00;
  opacity: 0.8;
}

/* Smooth scrolling for the leaderboard */
.custom-scrollbar {
  scroll-behavior: smooth;
}

/* Optional: Add some padding to the scrollable area */
.custom-scrollbar {
  padding-right: 4px;
}

/* Animation keyframes */
@keyframes marquee {
  0% { transform: translateX(0%); }
  100% { transform: translateX(-50%); }
}

.animate-marquee {
  animation: marquee 40s linear infinite;
}

@keyframes fadeIn {
  0% { opacity: 0; }
  100% { opacity: 1; }
}

.animate-fadeIn {
  animation: fadeIn 0.2s ease-in-out;
}

@keyframes slideUp {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-slideUp {
  animation: slideUp 0.3s ease-out;
}

/* Touch-specific optimizations for iPhone 12-16 */
@layer utilities {
  /* Touch target minimum sizes */
  .touch-target-min {
    min-width: 44px;
    min-height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .touch-target-large {
    min-width: 48px;
    min-height: 48px;
  }

  .touch-target-xl {
    min-width: 56px;
    min-height: 56px;
  }

  /* Touch manipulation and optimization */
  .touch-optimized {
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
    user-select: none;
    -webkit-user-select: none;
    transform: translateZ(0);
    will-change: transform;
  }

  /* Touch-friendly scrolling */
  .touch-scroll {
    -webkit-overflow-scrolling: touch;
    overflow-scrolling: touch;
    scroll-behavior: smooth;
  }

  .touch-scroll-momentum {
    -webkit-overflow-scrolling: touch;
    overflow-scrolling: touch;
    scroll-snap-type: y proximity;
  }

  /* Touch feedback animations */
  .touch-feedback {
    transition: transform 0.15s ease-out, box-shadow 0.15s ease-out;
    cursor: pointer;
  }

  .touch-feedback:active,
  .touch-feedback.touch-pressed {
    transform: scale(0.95);
  }

  .touch-feedback-light:active,
  .touch-feedback-light.touch-pressed {
    transform: scale(0.98);
  }

  .touch-feedback-heavy:active,
  .touch-feedback-heavy.touch-pressed {
    transform: scale(0.92);
  }

  /* Touch glow effects */
  .touch-glow:active,
  .touch-glow.touch-pressed {
    box-shadow: 0 0 20px rgba(255, 140, 0, 0.4);
  }

  .touch-glow-blue:active,
  .touch-glow-blue.touch-pressed {
    box-shadow: 0 0 20px rgba(59, 130, 246, 0.4);
  }

  .touch-glow-green:active,
  .touch-glow-green.touch-pressed {
    box-shadow: 0 0 20px rgba(34, 197, 94, 0.4);
  }

  .touch-glow-red:active,
  .touch-glow-red.touch-pressed {
    box-shadow: 0 0 20px rgba(239, 68, 68, 0.4);
  }

  /* Hover to touch adaptations */
  @media (hover: none) and (pointer: coarse) {
    /* Convert hover states to active states on touch devices */
    .hover-to-touch:hover {
      /* Reset hover styles */
    }

    .hover-to-touch:active {
      transform: scale(0.95);
      opacity: 0.8;
    }

    /* Remove hover-only interactions */
    .hover-only {
      display: none;
    }

    /* Show touch-only interactions */
    .touch-only {
      display: block;
    }
  }

  @media (hover: hover) and (pointer: fine) {
    /* Hide touch-only interactions on non-touch devices */
    .touch-only {
      display: none;
    }
  }

  /* Safe area handling for iPhone notch/dynamic island */
  .safe-area-top {
    padding-top: constant(safe-area-inset-top);
    padding-top: env(safe-area-inset-top);
  }

  .safe-area-bottom {
    padding-bottom: constant(safe-area-inset-bottom);
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-area-left {
    padding-left: constant(safe-area-inset-left);
    padding-left: env(safe-area-inset-left);
  }

  .safe-area-right {
    padding-right: constant(safe-area-inset-right);
    padding-right: env(safe-area-inset-right);
  }

  .safe-area-all {
    padding-top: constant(safe-area-inset-top);
    padding-top: env(safe-area-inset-top);
    padding-bottom: constant(safe-area-inset-bottom);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: constant(safe-area-inset-left);
    padding-left: env(safe-area-inset-left);
    padding-right: constant(safe-area-inset-right);
    padding-right: env(safe-area-inset-right);
  }

  /* High performance touch animations */
  .touch-transform {
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
  }

  /* Anti-aliasing for smooth animations */
  .touch-smooth {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Enhanced focus for accessibility and touch */
  .touch-focus {
    outline: none;
  }

  .touch-focus:focus-visible {
    outline: 2px solid #FF8A00;
    outline-offset: 2px;
  }

  /* Touch-friendly spacing */
  .touch-spacing > * + * {
    margin-top: 12px;
  }

  .touch-spacing-lg > * + * {
    margin-top: 16px;
  }

  /* Prevent text selection on interactive elements */
  .touch-no-select {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }

  /* Enhanced button styles for touch */
  .touch-button {
    min-height: 44px;
    padding: 12px 24px;
    border-radius: 8px;
    font-weight: 600;
    text-align: center;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    transition: all 0.15s ease-out;
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
    user-select: none;
    cursor: pointer;
  }

  .touch-button:active {
    transform: scale(0.95);
  }

  /* Card touch interactions */
  .touch-card {
    transition: all 0.2s ease-out;
    cursor: pointer;
  }

  .touch-card:active {
    transform: scale(0.98);
  }

  /* Ripple effect container */
  .touch-ripple {
    position: relative;
    overflow: hidden;
  }

  /* Long press indicators */
  .touch-long-press {
    position: relative;
  }

  .touch-long-press::after {
    content: '';
    position: absolute;
    inset: -2px;
    border: 2px solid transparent;
    border-radius: inherit;
    background: linear-gradient(45deg, #FF8A00, #FF8A00) border-box;
    mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
    mask-composite: exclude;
    opacity: 0;
    transition: opacity 0.3s ease-out;
  }

  .touch-long-press.long-pressing::after {
    opacity: 1;
    animation: pulse 1s infinite;
  }
}

/* Responsive touch optimizations */
@media (max-width: 480px) {
  /* Increase touch targets on small screens */
  .touch-target-min {
    min-width: 48px;
    min-height: 48px;
  }

  /* Increase spacing between interactive elements */
  .touch-spacing > * + * {
    margin-top: 16px;
  }
}

/* iPhone-specific optimizations */
@supports (-webkit-touch-callout: none) {
  /* iOS-specific styles */
  .ios-optimized {
    -webkit-touch-callout: none;
    -webkit-user-select: none;
  }

  /* iOS smooth scrolling */
  .ios-scroll {
    -webkit-overflow-scrolling: touch;
  }

  /* iOS bounce scroll prevention */
  .ios-no-bounce {
    overscroll-behavior: none;
  }
}

/* Landscape orientation optimizations for iPhones */
@media screen and (orientation: landscape) and (max-height: 500px) {
  .landscape-optimized {
    /* Reduce vertical padding in landscape */
    padding-top: 8px;
    padding-bottom: 8px;
  }

  .landscape-compact {
    /* More compact layout for landscape */
    font-size: 0.9em;
    line-height: 1.3;
  }
}

/* Dark mode touch optimizations */
@media (prefers-color-scheme: dark) {
  .touch-glow:active,
  .touch-glow.touch-pressed {
    box-shadow: 0 0 20px rgba(255, 140, 0, 0.6);
  }
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  .touch-feedback,
  .touch-card,
  .touch-button {
    transition: none;
  }

  .touch-feedback:active,
  .touch-card:active,
  .touch-button:active {
    transform: none;
    opacity: 0.8;
  }
}